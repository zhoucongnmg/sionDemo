{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "border": null,
        "collapsible": null,
        "container|multi": null,
        "container|titleCollapse": null,
        "data": null,
        "designer|userAlias": "autonav",
        "designer|userClassName": "AutoNav",
        "height": null,
        "itemId": "AutoNav",
        "layout": "accordion",
        "renderData": null,
        "renderTo": null,
        "title": "",
        "titleCollapse": null,
        "width": 200
    },
    "name": "MyPanel22",
    "designerId": "f7bedf8d-6d97-470a-85d1-5577992e4f6e",
    "cn": [
        {
            "type": "processcfgfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "config"
                ],
                "fn": "processAutoNav",
                "implHandler": [
                    "Ext.define(config.getNamespace()+'.store.AutoMenuStore', {",
                    "    extend: 'Ext.data.Store',",
                    "",
                    "    requires: [",
                    "        'Ext.data.proxy.Ajax',",
                    "        'Ext.data.reader.Json',",
                    "        'Ext.data.Field'",
                    "    ],",
                    "",
                    "    constructor: function(cfg) {",
                    "        var me = this;",
                    "        cfg = cfg || {};",
                    "        me.callParent([Ext.apply({",
                    "            autoLoad: true,",
                    "            storeId: 'AutoMenuStore',",
                    "            data: [",
                    "                {",
                    "                    title: 'Extjs学习',",
                    "                    iconCls: 's_icon_org_group',",
                    "                    menuItems: [",
                    "                        {",
                    "                            text: '简单增删改查',",
                    "                            iconCls: 's_icon_action_copy',",
                    "                            viewName: 'User'",
                    "                        }",
                    "                    ]",
                    "                },",
                    "                {",
                    "                    title: 'mongo学习',",
                    "                    iconCls: 's_icon_money_yen',",
                    "                    menuItems: [",
                    "                        {",
                    "                            text: '企业信息',",
                    "                            iconCls: 's_icon_item_book',",
                    "                            viewName: 'ComInfo'",
                    "                        },",
                    "                        {",
                    "                            text: '重点企业',",
                    "                            iconCls: 's_icon_file_star',",
                    "                            viewName: 'PointCom'",
                    "                        },",
                    "                        {",
                    "                            text: '未审批企业',",
                    "                            iconCls: 's_icon_file_edit',",
                    "                            viewName: 'ComWait'",
                    "                        },",
                    "                        {",
                    "                            text: '未通过企业',",
                    "                            iconCls: 's_icon_file_error',",
                    "                            viewName: 'ComNoPass'",
                    "                        }",
                    "                    ]",
                    "                }",
                    "",
                    "            ],",
                    "            proxy: {",
                    "                type: 'ajax',",
                    "                reader: {",
                    "                    type: 'json'",
                    "                }",
                    "            },",
                    "            fields: [",
                    "                {",
                    "                    name: 'title'",
                    "                },",
                    "                {",
                    "                    name: 'iconCls'",
                    "                },",
                    "                {",
                    "                    name: 'menuItems'",
                    "                }",
                    "            ]",
                    "        }, cfg)]);",
                    "    }",
                    "});",
                    "",
                    "",
                    "var me = config,",
                    "    menus = [],",
                    "    myStore = Ext.create(me.getNamespace()+'.store.AutoMenuStore');",
                    "myStore.each(function(obj) {",
                    "    var menu = {",
                    "        xtype:'menu',",
                    "        title:obj.get('title'),",
                    "        floating: false,",
                    "        iconCls:obj.get('iconCls')",
                    "    };",
                    "    var menuItems = [];",
                    "    obj.get('menuItems').forEach(function(element, index, array){",
                    "        var viewName = element.viewName;",
                    "        var path = me.getNamespace();",
                    "        var menuItem = Ext.create('Ext.menu.Item', {",
                    "            text: element.text,",
                    "            iconCls: element.iconCls,",
                    "            listeners:{",
                    "                click: {",
                    "                    fn: function (){",
                    "                        var tabs = Ext.ComponentQuery.query('#MyTabPanel')[0];",
                    "                        var className = me.getNamespace()+'.view.'+viewName;",
                    "                        var P1 = Ext.ComponentQuery.query('#'+viewName)[0];",
                    "                        if(!P1){",
                    "                            P1 = Ext.create(className);",
                    "                            P1.iconCls = element.iconCls;",
                    "                            P1.title= element.text;",
                    "                            P1.closable = true;",
                    "                            P1.itemId = viewName;",
                    "                            //tabs.remove(P1);",
                    "                            tabs.add(P1);",
                    "                        }",
                    "                        tabs.setActiveTab(P1);",
                    "",
                    "                    },",
                    "                    scope: me",
                    "                }",
                    "            }",
                    "        });",
                    "        menuItems.push(menuItem);",
                    "    });",
                    "    menu.items = menuItems;",
                    "    menus.push(menu);",
                    "});",
                    "me.items = menus;",
                    "//         me.doLayout();"
                ]
            },
            "name": "processAutoNav",
            "designerId": "2a908f4b-1022-401c-9885-e4f4325b460e"
        }
    ]
}